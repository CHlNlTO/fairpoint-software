    DEVICE DISCOVERY METHOD, SYSTEM, AND ELECTRONIC
                                             DEVICE

          This application claims priority to Chinese Patent Application No. 2021104552824, filed
    with the China National Intellectual Property Administration on April 26, 2021 and entitled
    "DEVICE DISCOVERY METHOD, SYSTEM, AND ELECTRONIC DEVICE", Which is
    incorporated herein by reference in its entirety.

                                                         TECHNICAL FIELD

          This application relates to the field of electronic technologies, and in particular, to a device
    discovery method, a system, and an electronic device.

10  BACKGROUND

              An electronic device such as a mobile phone may access data on another electronic device
        that is in a same network as the electronic device, for example, browse a picture on the another
        electronic device.

                WO 2016/040721 Al discloses: Systems and metheds cross device application discovery
15 and/or control Cross device application discovery and/or COntrOl can provide for simple detection

         and activation ofapplications (m temete devices Cross device application discovery and/Ot control
         can provide for the control of remote apvlications in a master and slave confiouration Responsive
         to an activation message an applicaticn can execute a task in an apnlication the task heinv
         disalaved cm a tat ret device. Responsive to an activation messa *6 an application can execute a
20 task in an amplication on a target device a task context data for the task being streamed t0 the
         source device for presentation cm a display. Cross device application discovery and/or control can
         be enabled an a sinvle 0 etatinv system 01" across a plurality of operating: systems.

                                                                SUMMARY

              This application provides a device discovery method. By implementing the method, an
25 electronic device such as a mobile phone may filter a discovered device based on features of

        different distributed applications, so that a device obtained after the filtering meets a requirement
    of an application.

               According to a first aspect, an embodiment of this application provides a device discovery

    method. The method includes: Afirst device displays a first interface provided by a first application.

    At least one control is displayed in the first interface. The first device detects M second devices.

    The second device includes a device that is located in a same network as the first device, and/or a

    device that logs in to a same user account as the first device. The first device displays identifiers

    of N second devices in response to an operation performed on one of the at least one control. The

    N second devices include a second device in the M second devices on which a second application

    is installed l" *1": A o M A l s. The second application and the first application provide a

10 same resource wherein the N second devices specifically comnri se a, second device on which a,

    second application ofm'eset version it; installed in the M second devices or the N second devices

    specificall comprise a second device on which the second application and an operating, s stem of

    preset version are installed in the M fiecond devices. The first device detects a first operation

    performed on one of the identifiers of the N second devices, and invokes a resource of a second

15 device corresponding to the identifier on which the first operation is performed.

               By implementing the method provided in the first aspect, the first device may filter a

    discovered device based on features of different distributed applications, and then display an icon

    of a second device that meets a filtering requirement. In this way, a user may select any displayed

    second device to invoke a resource provided by the second device.

20              X la 1" pan"                n       A               la nrilu             Al" 11 {"3                             n 1 1/1 A       11        la n41  I    1/1            la l\           n
               V     {.1            I           VL        11        \J l l 11L».            1          \J    l              j", V j 1                     IL!               L3                        WV 1U

    131.1 1pc             n52. *1 91 4n"            1/1 l x "lo :1  on 1413 A            no r                     n11 n            "1 1/1 *3 ha l         n                       «a        :3        fl:
    \J                           l     L 1`)! I l IUU               VUL           U                 U      V 11 \J          `1     WV!          {'4'}. 1      L]  1 U1 V VA"           `1'         ll

        1A     ll A1                   ?\J      n   A                             1/1 1        l       1*th o1 flAA                             in {i n W "l" nrll 11/14le I                           1/1/`1
    .l         IVU 11 t, I`d I. x.                  l U UVV \Jkimi LI         1          V}. 3 L I                              1  UV 1                              .l 1       1 \J         L MW         U

    {31:31 1            1/1      l4. \l/u +11       \ m~l : M31 r+1nv~n 71/! vs                                     (3                    4' M  l"        4' a         v1 : .. i                   l      `14
    U`k`       V                 I          L       U 1 JV (1 {JV       («LL         (xix U 1              t} l t           b j L 11                 k}           1    U11 C&JV K x.) C               U1

        l1                   14/3 flex 1 1          l ~11           ml        l4                       1/11`3 Am                   m n; 1 1     (4U!)     11/1 lnrl t          (114 l '1 1                11/1
        1      1 >3          JJU M          iv      1 ll!               )3 1 V V U \Jl W U                              .l         k.) V 1                1U           L U \Jl \xl U            1

25          la nln la.           nmrl r nl` n; n in in 1a ll A in la TV!                                                «a 3g"                  «ml Hand 11                 1          11`04" Ac;
            l     ,          >3     1 U Lt VJK (L             3     0L L IWU             L             1 .3       Ullu UV 1             D (I              C Ul              Lk] (Xv L                  J

    typeelt should be understood that an application of preset version is an application that includes a

    specific version and a follow-up version, and an operating system of preset version is an operating

    system that includes a specific version and a follow-up version.

               By implementing the method provided in the foregoing embodiment, the first device may

3O filter a discovered device based on features of different distributed applications.

               With reference to some embodiments of the first aspect, in some embodiments, before the

    first device detects the M second devices, the method further includes: The first device detects a

    second operation.

               By implementing the method provided in the foregoing embodiment, the user may enable a

35 distributed function when the distributed function needs to be used, and disable the function when
    the function does not need to be used. This helps reduce energy consumption of the first device.

    With reference to some embodiments of the first aspect, in some embodiments, that the first

    device displays the identifiers of the N second devices specifically includes that the first device

    displays a second interface provided by the first application. The identifiers of the N second

    devices are displayed in the second interface.

    By implementing the method provided in the foregoing embodiment, the first device may

    display a second device that meets a requirement of the first application. Further, the user may

    know another electronic device that can be invoked by the application. Then, the user may invoke

    a resource provided by any displayed second device.

10  With reference to some embodiments of the first aspect, in some embodiments, the resource

    includes at least one of an image, a service, a capability, and hardware.

    By implementing the method provided in the foregoing embodiment, the first device may

    invoke an image, a service, a capability, and hardware that are provided by the second device, to

    meet more requirements of the user.

15  With reference to some embodiments of the first aspect, in some embodiments, the resource

    includes an image. Invoking the resource of the second device corresponding to the identifier on

    which the first operation is performed specifically includes: displaying a third interface provided

    by the first application, and displaying, in the third interface, an image of the second device

    corresponding to the identifier of the first operation is performed.

20  By implementing the method provided in the foregoing embodiment, the first device may

    invoke a gallery provided by the second device. In this way, the user may access an image such as

    a picture or a Video of the second device on the first device.

    With reference to some embodiments of the first aspect, in some embodiments, the resource

    is a camera. Invoking the resource of the second device corresponding to the identifier on which

25 the first operation is performed specifically includes: displaying a fourth interface provided by the

    first application, and displaying, in the fourth interface, an image that is captured by a camera of

    the second device corresponding to the identifier on which the first operation is performed.

    By implementing the method provided in the foregoing embodiment, the first device may

    invoke the camera provided by the second device. In this way, the user may perform photographing

3O on the first device by using the camera of the second device, to obtain richer photographing

    experience of the user.

    With reference to some embodiments of the first aspect, in some embodiments, the method

    further includes: The first device does not display an identifier of a second device on which the

    second application is not installed.

35  By implementing the method provided in the foregoing embodiment, the second device

                                                    3
    displayed by the first device is a second device that can provide a resource for the first device.

    When selecting any second device, the user may invoke a resource provided by the second device,

    to avoid a case in which a second device that does not meet a requirement of the application is

    displayed.

    According to a second aspect, an embodiment of this application provides an electronic

    device. The electronic device includes one or more processors and one or more memories. The one

    or more memories are coupled to the one or more processors. The one or more memories are

    configured to store computer program code. The computer program code includes computer

    instructions. When the one or more processors execute the computer instructions, the electronic

10 device is enabled to perform the method described in any one of the first aspect and the possible

    implementations of the first aspect.

    According to a third aspect, an embodiment of this application provides a computer program

    product including instructions. When the computer program product runs on an electronic device,

    the electronic device is enabled to perform the method described in any one of the first aspect and

15 the possible implementations of the first aspect.

    According to a fourth aspect, an embodiment of this application provides a computer-readable

    storage medium, including instructions. When the instructions are run on an electronic device, the

    electronic device is enabled to perform the method described in any one of the first aspect and the

    possible implementations of the first aspect.

20  It may be understood that the first device provided in the second aspect, the computer program

    product provided in the third aspect, and the computer storage medium provided in the fourth

    aspect are all configured to perform the method provided in embodiments of this application.

    Therefore, for beneficial effects that can be achieved by the first device, the computer program

    product, and the computer storage medium, refer to beneficial effects in the corresponding method.

25 Details are not described herein again.

                BRIEF DESCRIPTION OF DRAWINGS

    FIG. 1 is a diagram of a network architecture according to an embodiment of this application;

    FIG. 2 is a diagram of a software architecture of a distributed function according to an

    embodiment of this application;

30  FIG. 3 is a diagram of a software architecture of a distributed function including a filtering

    policy according to an embodiment of this application;

    FIG. 4 is a schematic diagram of a data structure of a filtering policy according to an

    embodiment of this application;
      FIG. 5A is a schematic diagram of filtering processing according to an embodiment of this
application;

      FIG. 5B is another schematic diagram of filtering processing according to an embodiment of
this application;

      FIG. 6A to FIG. 6H, FIG. 7A to FIG. 7E, and FIG. 8A to FIG. 8C show a group of user
interfaces according to an embodiment of this application; and
             FIG. 9 is a diagram of a hardware structure of an electronic device according to an
      embodiment of this application.

                                           DESCRIPTION OF EMBODIMENTS
             Terms used in the following embodiments of this application are merely intended to describe
5 specific embodiments, but are not intended to limit this application.

                                                                                               4a
